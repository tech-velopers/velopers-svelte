#!/usr/bin/env node
var Cr=Object.create;var ot=Object.defineProperty;var Ar=Object.getOwnPropertyDescriptor;var Tr=Object.getOwnPropertyNames;var Sr=Object.getPrototypeOf,Ir=Object.prototype.hasOwnProperty;var ut=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var Or=(e,n,r,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Tr(n))!Ir.call(e,i)&&i!==r&&ot(e,i,{get:()=>n[i],enumerable:!(t=Ar(n,i))||t.enumerable});return e};var lt=(e,n,r)=>(r=e!=null?Cr(Sr(e)):{},Or(n||!e||!e.__esModule?ot(r,"default",{value:e,enumerable:!0}):r,e));var Ot=ut((ro,It)=>{"use strict";var Pn="\x1B",I=`${Pn}[`,vi="\x07",jn={to(e,n){return n?`${I}${n+1};${e+1}H`:`${I}${e+1}G`},move(e,n){let r="";return e<0?r+=`${I}${-e}D`:e>0&&(r+=`${I}${e}C`),n<0?r+=`${I}${-n}A`:n>0&&(r+=`${I}${n}B`),r},up:(e=1)=>`${I}${e}A`,down:(e=1)=>`${I}${e}B`,forward:(e=1)=>`${I}${e}C`,backward:(e=1)=>`${I}${e}D`,nextLine:(e=1)=>`${I}E`.repeat(e),prevLine:(e=1)=>`${I}F`.repeat(e),left:`${I}G`,hide:`${I}?25l`,show:`${I}?25h`,save:`${Pn}7`,restore:`${Pn}8`},gi={up:(e=1)=>`${I}S`.repeat(e),down:(e=1)=>`${I}T`.repeat(e)},bi={screen:`${I}2J`,up:(e=1)=>`${I}1J`.repeat(e),down:(e=1)=>`${I}J`.repeat(e),line:`${I}2K`,lineEnd:`${I}K`,lineStart:`${I}1K`,lines(e){let n="";for(let r=0;r<e;r++)n+=this.line+(r<e-1?jn.up():"");return e&&(n+=jn.left),n}};It.exports={cursor:jn,scroll:gi,erase:bi,beep:vi}});var yr=ut((su,fr)=>{"use strict";function sr(e){return Array.isArray(e)?e:[e]}var Jn="",or=" ",zn="\\",us=/^\s+$/,ls=/(?:[^\\]|^)\\$/,as=/^\\!/,cs=/^\\#/,ps=/\r?\n/g,fs=/^\.*\/|^\.+$/,Xn="/",ar="node-ignore";typeof Symbol<"u"&&(ar=Symbol.for("node-ignore"));var ur=ar,ys=(e,n,r)=>Object.defineProperty(e,n,{value:r}),ms=/([0-z])-([0-z])/g,cr=()=>!1,hs=e=>e.replace(ms,(n,r,t)=>r.charCodeAt(0)<=t.charCodeAt(0)?n:Jn),ds=e=>{let{length:n}=e;return e.slice(0,n-n%2)},vs=[[/^\uFEFF/,()=>Jn],[/\\?\s+$/,e=>e.indexOf("\\")===0?or:Jn],[/\\\s/g,()=>or],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,n,r)=>n+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,n,r)=>{let t=r.replace(/\\\*/g,"[^\\/]*");return n+t}],[/\\\\\\(?=[$.|*+(){^])/g,()=>zn],[/\\\\/g,()=>zn],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,n,r,t,i)=>n===zn?`\\[${r}${ds(t)}${i}`:i==="]"&&t.length%2===0?`[${hs(r)}${t}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,n)=>`${n?`${n}[^/]+`:"[^/]*"}(?=$|\\/$)`]],lr=Object.create(null),gs=(e,n)=>{let r=lr[e];return r||(r=vs.reduce((t,i)=>t.replace(i[0],i[1].bind(e)),e),lr[e]=r),n?new RegExp(r,"i"):new RegExp(r)},Yn=e=>typeof e=="string",bs=e=>e&&Yn(e)&&!us.test(e)&&!ls.test(e)&&e.indexOf("#")!==0,ks=e=>e.split(ps),Kn=class{constructor(n,r,t,i){this.origin=n,this.pattern=r,this.negative=t,this.regex=i}},$s=(e,n)=>{let r=e,t=!1;e.indexOf("!")===0&&(t=!0,e=e.substr(1)),e=e.replace(as,"!").replace(cs,"#");let i=gs(e,n);return new Kn(r,e,t,i)},xs=(e,n)=>{throw new n(e)},H=(e,n,r)=>Yn(e)?e?H.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${n}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${n}\``,TypeError),pr=e=>fs.test(e);H.isNotRelative=pr;H.convert=e=>e;var Hn=class{constructor({ignorecase:n=!0,ignoreCase:r=n,allowRelativePaths:t=!1}={}){ys(this,ur,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=t,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(n){if(n&&n[ur]){this._rules=this._rules.concat(n._rules),this._added=!0;return}if(bs(n)){let r=$s(n,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(n){return this._added=!1,sr(Yn(n)?ks(n):n).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(n){return this.add(n)}_testOne(n,r){let t=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&t!==i||o&&!t&&!i&&!r)return;s.regex.test(n)&&(t=!o,i=o)}),{ignored:t,unignored:i}}_test(n,r,t,i){let s=n&&H.convert(n);return H(s,n,this._allowRelativePaths?cr:xs),this._t(s,r,t,i)}_t(n,r,t,i){if(n in r)return r[n];if(i||(i=n.split(Xn)),i.pop(),!i.length)return r[n]=this._testOne(n,t);let s=this._t(i.join(Xn)+Xn,r,t,i);return r[n]=s.ignored?s:this._testOne(n,t)}ignores(n){return this._test(n,this._ignoreCache,!1).ignored}createFilter(){return n=>!this.ignores(n)}filter(n){return sr(n).filter(this.createFilter())}test(n){return this._test(n,this._testCache,!0)}},pn=e=>new Hn(e),_s=e=>H(e&&H.convert(e),e,cr);pn.isPathValid=_s;pn.default=pn;fr.exports=pn;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");H.convert=e;let n=/^[a-z]:\//i;H.isNotRelative=r=>n.test(r)||pr(r)}});import Se from"process";import{Command as Ws}from"commander";import{existsSync as fn,promises as et}from"fs";import ue from"path";import ne from"process";import q from"chalk";import{Command as Ts}from"commander";import{execa as Ss}from"execa";var dn;function Pr(e){return{lang:e?.lang??dn?.lang,message:e?.message,abortEarly:e?.abortEarly??dn?.abortEarly,abortPipeEarly:e?.abortPipeEarly??dn?.abortPipeEarly}}var jr;function Dr(e){return jr?.get(e)}var Rr;function Lr(e){return Rr?.get(e)}var Nr;function Fr(e,n){return Nr?.get(e)?.get(n)}function at(e){let n=typeof e;return n==="string"?`"${e}"`:n==="number"||n==="bigint"||n==="boolean"?`${e}`:n==="object"||n==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":n}function ae(e,n,r,t,i){let s=i&&"input"in i?i.input:r.value,o=i?.expected??e.expects??null,u=i?.received??at(s),p={kind:e.kind,type:e.type,input:s,expected:o,received:u,message:`Invalid ${n}: ${o?`Expected ${o} but r`:"R"}eceived ${u}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:t.lang,abortEarly:t.abortEarly,abortPipeEarly:t.abortPipeEarly},f=e.kind==="schema",b=i?.message??e.message??Fr(e.reference,p.lang)??(f?Lr(p.lang):null)??t.message??Dr(p.lang);b&&(p.message=typeof b=="function"?b(p):b),f&&(r.typed=!1),r.issues?r.issues.push(p):r.issues=[p]}function Vr(e,n){return Object.hasOwn(e,n)&&n!=="__proto__"&&n!=="prototype"&&n!=="constructor"}var Mr=class extends Error{issues;constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function qe(e){return{kind:"transformation",type:"transform",reference:qe,async:!1,operation:e,_run(n){return n.value=this.operation(n.value),n}}}function Gr(e,n,r){return typeof e.default=="function"?e.default(n,r):e.default}function W(e,n){return{kind:"schema",type:"array",reference:W,expects:"Array",async:!1,item:e,message:n,_run(r,t){let i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let s=0;s<i.length;s++){let o=i[s],u=this.item._run({typed:!1,value:o},t);if(u.issues){let p={type:"array",origin:"value",input:i,key:s,value:o};for(let f of u.issues)f.path?f.path.unshift(p):f.path=[p],r.issues?.push(f);if(r.issues||(r.issues=u.issues),t.abortEarly){r.typed=!1;break}}u.typed||(r.typed=!1),r.value.push(u.value)}}else ae(this,"type",r,t);return r}}}function z(e){return{kind:"schema",type:"boolean",reference:z,expects:"boolean",async:!1,message:e,_run(n,r){return typeof n.value=="boolean"?n.typed=!0:ae(this,"type",n,r),n}}}function S(e,n){return{kind:"schema",type:"object",reference:S,expects:"Object",async:!1,entries:e,message:n,_run(r,t){let i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(let s in this.entries){let o=i[s],u=this.entries[s]._run({typed:!1,value:o},t);if(u.issues){let p={type:"object",origin:"value",input:i,key:s,value:o};for(let f of u.issues)f.path?f.path.unshift(p):f.path=[p],r.issues?.push(f);if(r.issues||(r.issues=u.issues),t.abortEarly){r.typed=!1;break}}u.typed||(r.typed=!1),(u.value!==void 0||s in i)&&(r.value[s]=u.value)}}else ae(this,"type",r,t);return r}}}function F(e,...n){let r={kind:"schema",type:"optional",reference:F,expects:`${e.expects} | undefined`,async:!1,wrapped:e,_run(t,i){return t.value===void 0&&("default"in this&&(t.value=Gr(this,t,i)),t.value===void 0)?(t.typed=!0,t):this.wrapped._run(t,i)}};return 0 in n&&(r.default=n[0]),r}function vn(e,n){return{kind:"schema",type:"picklist",reference:vn,expects:e.map(at).join(" | ")||"never",async:!1,options:e,message:n,_run(r,t){return this.options.includes(r.value)?r.typed=!0:ae(this,"type",r,t),r}}}function ce(e,n,r){return{kind:"schema",type:"record",reference:ce,expects:"Object",async:!1,key:e,value:n,message:r,_run(t,i){let s=t.value;if(s&&typeof s=="object"){t.typed=!0,t.value={};for(let o in s)if(Vr(s,o)){let u=s[o],p=this.key._run({typed:!1,value:o},i);if(p.issues){let b={type:"object",origin:"key",input:s,key:o,value:u};for(let h of p.issues)h.path=[b],t.issues?.push(h);if(t.issues||(t.issues=p.issues),i.abortEarly){t.typed=!1;break}}let f=this.value._run({typed:!1,value:u},i);if(f.issues){let b={type:"object",origin:"value",input:s,key:o,value:u};for(let h of f.issues)h.path?h.path.unshift(b):h.path=[b],t.issues?.push(h);if(t.issues||(t.issues=f.issues),i.abortEarly){t.typed=!1;break}}(!p.typed||!f.typed)&&(t.typed=!1),p.typed&&(t.value[p.value]=f.value)}}else ae(this,"type",t,i);return t}}}function g(e){return{kind:"schema",type:"string",reference:g,expects:"string",async:!1,message:e,_run(n,r){return typeof n.value=="string"?n.typed=!0:ae(this,"type",n,r),n}}}function M(e,n,r){let t=e._run({typed:!1,value:n},Pr(r));if(t.issues)throw new Mr(t.issues);return t.value}function gn(...e){return{...e[0],pipe:e,_run(n,r){for(let t=0;t<e.length;t++){if(n.issues&&(e[t].kind==="schema"||e[t].kind==="transformation")){n.typed=!1;break}(!n.issues||!r.abortEarly&&!r.abortPipeEarly)&&(n=e[t]._run(n,r))}return n}}}import zt from"fs";import un from"path";import Re from"chalk";import x from"path";import Tn from"fs";import Yr from"module";var ct=e=>e!==null&&typeof e=="object",fe=(e,n)=>Object.assign(new Error(`[${e}]: ${n}`),{code:e}),pt="ERR_INVALID_PACKAGE_CONFIG",bn="ERR_INVALID_PACKAGE_TARGET",Ur="ERR_PACKAGE_PATH_NOT_EXPORTED";var Br=/^\d+$/,qr=/^(\.{1,2}|node_modules)$/i,Wr=/\/|\\/,ft=(e=>(e.Export="exports",e.Import="imports",e))(ft||{}),kn=(e,n,r,t,i)=>{if(n==null)return[];if(typeof n=="string"){let[s,...o]=n.split(Wr);if(s===".."||o.some(u=>qr.test(u)))throw fe(bn,`Invalid "${e}" target "${n}" defined in the package config`);return[i?n.replace(/\*/g,i):n]}if(Array.isArray(n))return n.flatMap(s=>kn(e,s,r,t,i));if(ct(n)){for(let s of Object.keys(n)){if(Br.test(s))throw fe(pt,"Cannot contain numeric property keys");if(s==="default"||t.includes(s))return kn(e,n[s],r,t,i)}return[]}throw fe(bn,`Invalid "${e}" target "${n}"`)},Ie="*",zr=(e,n)=>{let r=e.indexOf(Ie),t=n.indexOf(Ie);return r===t?n.length>e.length:t>r};function Xr(e,n){if(!n.includes(Ie)&&e.hasOwnProperty(n))return[n];let r,t;for(let i of Object.keys(e))if(i.includes(Ie)){let[s,o,u]=i.split(Ie);if(u===void 0&&n.startsWith(s)&&n.endsWith(o)){let p=n.slice(s.length,-o.length||void 0);p&&(!r||zr(r,i))&&(r=i,t=p)}}return[r,t]}var Jr=e=>Object.keys(e).reduce((n,r)=>{let t=r===""||r[0]!==".";if(n===void 0||n===t)return t;throw fe(pt,'"exports" cannot contain some keys starting with "." and some not')},void 0),Kr=/^\w+:/,yt=(e,n,r)=>{if(!e)throw new Error('"exports" is required');n=n===""?".":`./${n}`,(typeof e=="string"||Array.isArray(e)||ct(e)&&Jr(e))&&(e={".":e});let[t,i]=Xr(e,n),s=kn(ft.Export,e[t],n,r,i);if(s.length===0)throw fe(Ur,n==="."?'No "exports" main defined':`Package subpath '${n}' is not defined by "exports"`);for(let o of s)if(!o.startsWith("./")&&!Kr.test(o))throw fe(bn,`Invalid "exports" target "${o}" defined in the package config`);return s};var Hr=Object.defineProperty,v=(e,n)=>Hr(e,"name",{value:n,configurable:!0});function B(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}v(B,"slash");var In=v(e=>{let n=Tn[e];return(r,...t)=>{let i=`${e}:${t.join(":")}`,s=r?.get(i);return s===void 0&&(s=Reflect.apply(n,Tn,t),r?.set(i,s)),s}},"cacheFs"),J=In("existsSync"),Zr=In("readFileSync"),We=In("statSync"),_t=v((e,n,r)=>{for(;;){let t=x.posix.join(e,n);if(J(r,t))return t;let i=x.dirname(e);if(i===e)return;e=i}},"findUp"),On=/^\.{1,2}(\/.*)?$/,$n=v(e=>{let n=B(e);return On.test(n)?n:`./${n}`},"normalizePath");function wt(e,n=!1){let r=e.length,t=0,i="",s=0,o=16,u=0,p=0,f=0,b=0,h=0;function k(m,E){let $=0,A=0;for(;$<m||!E;){let L=e.charCodeAt(t);if(L>=48&&L<=57)A=A*16+L-48;else if(L>=65&&L<=70)A=A*16+L-65+10;else if(L>=97&&L<=102)A=A*16+L-97+10;else break;t++,$++}return $<m&&(A=-1),A}v(k,"scanHexDigits");function y(m){t=m,i="",s=0,o=16,h=0}v(y,"setPosition");function a(){let m=t;if(e.charCodeAt(t)===48)t++;else for(t++;t<e.length&&ie(e.charCodeAt(t));)t++;if(t<e.length&&e.charCodeAt(t)===46)if(t++,t<e.length&&ie(e.charCodeAt(t)))for(t++;t<e.length&&ie(e.charCodeAt(t));)t++;else return h=3,e.substring(m,t);let E=t;if(t<e.length&&(e.charCodeAt(t)===69||e.charCodeAt(t)===101))if(t++,(t<e.length&&e.charCodeAt(t)===43||e.charCodeAt(t)===45)&&t++,t<e.length&&ie(e.charCodeAt(t))){for(t++;t<e.length&&ie(e.charCodeAt(t));)t++;E=t}else h=3;return e.substring(m,E)}v(a,"scanNumber");function c(){let m="",E=t;for(;;){if(t>=r){m+=e.substring(E,t),h=2;break}let $=e.charCodeAt(t);if($===34){m+=e.substring(E,t),t++;break}if($===92){if(m+=e.substring(E,t),t++,t>=r){h=2;break}switch(e.charCodeAt(t++)){case 34:m+='"';break;case 92:m+="\\";break;case 47:m+="/";break;case 98:m+="\b";break;case 102:m+="\f";break;case 110:m+=`
`;break;case 114:m+="\r";break;case 116:m+="	";break;case 117:let A=k(4,!0);A>=0?m+=String.fromCharCode(A):h=4;break;default:h=5}E=t;continue}if($>=0&&$<=31)if(me($)){m+=e.substring(E,t),h=2;break}else h=6;t++}return m}v(c,"scanString");function d(){if(i="",h=0,s=t,p=u,b=f,t>=r)return s=r,o=17;let m=e.charCodeAt(t);if(Je(m)){do t++,i+=String.fromCharCode(m),m=e.charCodeAt(t);while(Je(m));return o=15}if(me(m))return t++,i+=String.fromCharCode(m),m===13&&e.charCodeAt(t)===10&&(t++,i+=`
`),u++,f=t,o=14;switch(m){case 123:return t++,o=1;case 125:return t++,o=2;case 91:return t++,o=3;case 93:return t++,o=4;case 58:return t++,o=6;case 44:return t++,o=5;case 34:return t++,i=c(),o=10;case 47:let E=t-1;if(e.charCodeAt(t+1)===47){for(t+=2;t<r&&!me(e.charCodeAt(t));)t++;return i=e.substring(E,t),o=12}if(e.charCodeAt(t+1)===42){t+=2;let $=r-1,A=!1;for(;t<$;){let L=e.charCodeAt(t);if(L===42&&e.charCodeAt(t+1)===47){t+=2,A=!0;break}t++,me(L)&&(L===13&&e.charCodeAt(t)===10&&t++,u++,f=t)}return A||(t++,h=1),i=e.substring(E,t),o=13}return i+=String.fromCharCode(m),t++,o=16;case 45:if(i+=String.fromCharCode(m),t++,t===r||!ie(e.charCodeAt(t)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=a(),o=11;default:for(;t<r&&w(m);)t++,m=e.charCodeAt(t);if(s!==t){switch(i=e.substring(s,t),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(m),t++,o=16}}v(d,"scanNext");function w(m){if(Je(m)||me(m))return!1;switch(m){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}v(w,"isUnknownContentCharacter");function R(){let m;do m=d();while(m>=12&&m<=15);return m}return v(R,"scanNextNonTrivia"),{setPosition:y,getPosition:()=>t,scan:n?R:d,getToken:()=>o,getTokenValue:()=>i,getTokenOffset:()=>s,getTokenLength:()=>t-s,getTokenStartLine:()=>p,getTokenStartCharacter:()=>s-b,getTokenError:()=>h}}v(wt,"createScanner");function Je(e){return e===32||e===9}v(Je,"isWhiteSpace");function me(e){return e===10||e===13}v(me,"isLineBreak");function ie(e){return e>=48&&e<=57}v(ie,"isDigit");var mt;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(mt||(mt={})),new Array(20).fill(0).map((e,n)=>" ".repeat(n));var ye=200;new Array(ye).fill(0).map((e,n)=>`
`+" ".repeat(n)),new Array(ye).fill(0).map((e,n)=>"\r"+" ".repeat(n)),new Array(ye).fill(0).map((e,n)=>`\r
`+" ".repeat(n)),new Array(ye).fill(0).map((e,n)=>`
`+"	".repeat(n)),new Array(ye).fill(0).map((e,n)=>"\r"+"	".repeat(n)),new Array(ye).fill(0).map((e,n)=>`\r
`+"	".repeat(n));var Ke;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Ke||(Ke={}));function Et(e,n=[],r=Ke.DEFAULT){let t=null,i=[],s=[];function o(u){Array.isArray(i)?i.push(u):t!==null&&(i[t]=u)}return v(o,"onValue"),Ct(e,{onObjectBegin:()=>{let u={};o(u),s.push(i),i=u,t=null},onObjectProperty:u=>{t=u},onObjectEnd:()=>{i=s.pop()},onArrayBegin:()=>{let u=[];o(u),s.push(i),i=u,t=null},onArrayEnd:()=>{i=s.pop()},onLiteralValue:o,onError:(u,p,f)=>{n.push({error:u,offset:p,length:f})}},r),i[0]}v(Et,"parse$1");function Ct(e,n,r=Ke.DEFAULT){let t=wt(e,!1),i=[];function s(C){return C?()=>C(t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter()):()=>!0}v(s,"toNoArgVisit");function o(C){return C?()=>C(t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter(),()=>i.slice()):()=>!0}v(o,"toNoArgVisitWithPath");function u(C){return C?N=>C(N,t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter()):()=>!0}v(u,"toOneArgVisit");function p(C){return C?N=>C(N,t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter(),()=>i.slice()):()=>!0}v(p,"toOneArgVisitWithPath");let f=o(n.onObjectBegin),b=p(n.onObjectProperty),h=s(n.onObjectEnd),k=o(n.onArrayBegin),y=s(n.onArrayEnd),a=p(n.onLiteralValue),c=u(n.onSeparator),d=s(n.onComment),w=u(n.onError),R=r&&r.disallowComments,m=r&&r.allowTrailingComma;function E(){for(;;){let C=t.scan();switch(t.getTokenError()){case 4:$(14);break;case 5:$(15);break;case 3:$(13);break;case 1:R||$(11);break;case 2:$(12);break;case 6:$(16);break}switch(C){case 12:case 13:R?$(10):d();break;case 16:$(1);break;case 15:case 14:break;default:return C}}}v(E,"scanNext");function $(C,N=[],st=[]){if(w(C),N.length+st.length>0){let Be=t.getToken();for(;Be!==17;){if(N.indexOf(Be)!==-1){E();break}else if(st.indexOf(Be)!==-1)break;Be=E()}}}v($,"handleError");function A(C){let N=t.getTokenValue();return C?a(N):(b(N),i.push(N)),E(),!0}v(A,"parseString");function L(){switch(t.getToken()){case 11:let C=t.getTokenValue(),N=Number(C);isNaN(N)&&($(2),N=0),a(N);break;case 7:a(null);break;case 8:a(!0);break;case 9:a(!1);break;default:return!1}return E(),!0}v(L,"parseLiteral");function Ge(){return t.getToken()!==10?($(3,[],[2,5]),!1):(A(!1),t.getToken()===6?(c(":"),E(),Ue()||$(4,[],[2,5])):$(5,[],[2,5]),i.pop(),!0)}v(Ge,"parseProperty");function rt(){f(),E();let C=!1;for(;t.getToken()!==2&&t.getToken()!==17;){if(t.getToken()===5){if(C||$(4,[],[]),c(","),E(),t.getToken()===2&&m)break}else C&&$(6,[],[]);Ge()||$(4,[],[2,5]),C=!0}return h(),t.getToken()!==2?$(7,[2],[]):E(),!0}v(rt,"parseObject");function it(){k(),E();let C=!0,N=!1;for(;t.getToken()!==4&&t.getToken()!==17;){if(t.getToken()===5){if(N||$(4,[],[]),c(","),E(),t.getToken()===4&&m)break}else N&&$(6,[],[]);C?(i.push(0),C=!1):i[i.length-1]++,Ue()||$(4,[],[4,5]),N=!0}return y(),C||i.pop(),t.getToken()!==4?$(8,[4],[]):E(),!0}v(it,"parseArray");function Ue(){switch(t.getToken()){case 3:return it();case 1:return rt();case 10:return A(!0);default:return L()}}return v(Ue,"parseValue"),E(),t.getToken()===17?r.allowEmptyContent?!0:($(4,[],[]),!1):Ue()?(t.getToken()!==17&&$(9,[],[]),!0):($(4,[],[]),!1)}v(Ct,"visit");var ht;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(ht||(ht={}));var dt;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(dt||(dt={}));var Qr=Et,vt;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(vt||(vt={}));var At=v((e,n)=>Qr(Zr(n,e,"utf8")),"readJsonc"),Sn=Symbol("implicitBaseUrl"),ei=v(()=>{let{findPnpApi:e}=Yr;return e&&e(process.cwd())},"getPnpApi"),xn=v((e,n,r,t)=>{let i=`resolveFromPackageJsonPath:${e}:${n}:${r}`;if(t!=null&&t.has(i))return t.get(i);let s=At(e,t);if(!s)return;let o=n||"tsconfig.json";if(!r&&s.exports)try{let[u]=yt(s.exports,n,["require","types"]);o=u}catch{return!1}else!n&&s.tsconfig&&(o=s.tsconfig);return o=x.join(e,"..",o),t?.set(i,o),o},"resolveFromPackageJsonPath"),_n="package.json",wn="tsconfig.json",ni=v((e,n,r)=>{let t=e;if(e===".."&&(t=x.join(t,wn)),e[0]==="."&&(t=x.resolve(n,t)),x.isAbsolute(t)){if(J(r,t)){if(We(r,t).isFile())return t}else if(!t.endsWith(".json")){let y=`${t}.json`;if(J(r,y))return y}return}let[i,...s]=e.split("/"),o=i[0]==="@"?`${i}/${s.shift()}`:i,u=s.join("/"),p=ei();if(p){let{resolveRequest:y}=p;try{if(o===e){let a=y(x.join(o,_n),n);if(a){let c=xn(a,u,!1,r);if(c&&J(r,c))return c}}else{let a;try{a=y(e,n,{extensions:[".json"]})}catch{a=y(x.join(e,wn),n)}if(a)return a}}catch{}}let f=_t(x.resolve(n),x.join("node_modules",o),r);if(!f||!We(r,f).isDirectory())return;let b=x.join(f,_n);if(J(r,b)){let y=xn(b,u,!1,r);if(y===!1)return;if(y&&J(r,y)&&We(r,y).isFile())return y}let h=x.join(f,u),k=h.endsWith(".json");if(!k){let y=`${h}.json`;if(J(r,y))return y}if(J(r,h)){if(We(r,h).isDirectory()){let y=x.join(h,_n);if(J(r,y)){let c=xn(y,"",!0,r);if(c&&J(r,c))return c}let a=x.join(h,wn);if(J(r,a))return a}else if(k)return h}},"resolveExtendsPath"),ti=v((e,n,r,t)=>{let i=ni(e,n,t);if(!i)throw new Error(`File '${e}' not found.`);if(r.has(i))throw new Error(`Circularity detected while resolving configuration: ${i}`);r.add(i);let s=x.dirname(i),o=Tt(i,t,r);delete o.references;let{compilerOptions:u}=o;if(u){let p=["baseUrl","outDir"];for(let f of p){let b=u[f];b&&(u[f]=B(x.relative(n,x.join(s,b)))||"./")}}return o.files&&(o.files=o.files.map(p=>B(x.relative(n,x.join(s,p))))),o.include&&(o.include=o.include.map(p=>B(x.relative(n,x.join(s,p))))),o.exclude&&(o.exclude=o.exclude.map(p=>B(x.relative(n,x.join(s,p))))),o},"resolveExtends"),Tt=v((e,n,r=new Set)=>{let t;try{t=At(e,n)||{}}catch{throw new Error(`Cannot resolve tsconfig at path: ${e}`)}if(typeof t!="object")throw new SyntaxError(`Failed to parse tsconfig at: ${e}`);let i=x.dirname(e);if(t.compilerOptions){let{compilerOptions:s}=t;s.paths&&!s.baseUrl&&(s[Sn]=i)}if(t.extends){let s=Array.isArray(t.extends)?t.extends:[t.extends];delete t.extends;for(let o of s.reverse()){let u=ti(o,i,new Set(r),n),p={...u,...t,compilerOptions:{...u.compilerOptions,...t.compilerOptions}};u.watchOptions&&(p.watchOptions={...u.watchOptions,...t.watchOptions}),t=p}}if(t.compilerOptions){let{compilerOptions:s}=t,o=["baseUrl","rootDir"];for(let p of o){let f=s[p];if(f){let b=x.resolve(i,f),h=$n(x.relative(i,b));s[p]=h}}let{outDir:u}=s;u&&(Array.isArray(t.exclude)||(t.exclude=[]),t.exclude.includes(u)||t.exclude.push(u),s.outDir=$n(u))}else t.compilerOptions={};if(t.files&&(t.files=t.files.map($n)),t.include&&(t.include=t.include.map(B)),t.watchOptions){let{watchOptions:s}=t;s.excludeDirectories&&(s.excludeDirectories=s.excludeDirectories.map(o=>B(x.resolve(i,o))))}return t},"_parseTsconfig"),ri=v((e,n=new Map)=>Tt(x.resolve(e),n),"parseTsconfig"),Oe=v((e=process.cwd(),n="tsconfig.json",r=new Map)=>{let t=_t(B(e),n,r);if(!t)return null;let i=ri(t,r);return{path:t,config:i}},"getTsconfig"),ii=/\*/g,gt=v((e,n)=>{let r=e.match(ii);if(r&&r.length>1)throw new Error(n)},"assertStarCount"),si=v(e=>{if(e.includes("*")){let[n,r]=e.split("*");return{prefix:n,suffix:r}}return e},"parsePattern"),oi=v(({prefix:e,suffix:n},r)=>r.startsWith(e)&&r.endsWith(n),"isPatternMatch"),ui=v((e,n,r)=>Object.entries(e).map(([t,i])=>(gt(t,`Pattern '${t}' can have at most one '*' character.`),{pattern:si(t),substitutions:i.map(s=>{if(gt(s,`Substitution '${s}' in pattern '${t}' can have at most one '*' character.`),!n&&!On.test(s))throw new Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return x.resolve(r,s)})})),"parsePaths"),St=v(e=>{let{compilerOptions:n}=e.config;if(!n)return null;let{baseUrl:r,paths:t}=n;if(!r&&!t)return null;let i=Sn in n&&n[Sn],s=x.resolve(x.dirname(e.path),r||i||"."),o=t?ui(t,r,s):[];return u=>{if(On.test(u))return[];let p=[];for(let k of o){if(k.pattern===u)return k.substitutions.map(B);typeof k.pattern!="string"&&p.push(k)}let f,b=-1;for(let k of p)oi(k.pattern,u)&&k.pattern.prefix.length>b&&(b=k.pattern.prefix.length,f=k);if(!f)return r?[B(x.join(s,u))]:[];let h=u.slice(f.pattern.prefix.length,u.length-f.pattern.suffix.length);return f.substitutions.map(k=>B(k.replace("*",h)))}},"createPathsMatcher"),bt=v(e=>{let n="";for(let r=0;r<e.length;r+=1){let t=e[r],i=t.toUpperCase();n+=t===i?t.toLowerCase():i}return n},"s"),li=65,ai=97,ci=v(()=>Math.floor(Math.random()*26),"m"),pi=v(e=>Array.from({length:e},()=>String.fromCodePoint(ci()+(Math.random()>.5?li:ai))).join(""),"S"),fi=v((e=Tn)=>{let n=process.execPath;if(e.existsSync(n))return!e.existsSync(bt(n));let r=`/${pi(10)}`;e.writeFileSync(r,"");let t=!e.existsSync(bt(r));return e.unlinkSync(r),t},"l"),{join:ze}=x.posix,En={ts:[".ts",".tsx",".d.ts"],cts:[".cts",".d.cts"],mts:[".mts",".d.mts"]},yi=v(e=>{let n=[...En.ts],r=[...En.cts],t=[...En.mts];return e!=null&&e.allowJs&&(n.push(".js",".jsx"),r.push(".cjs"),t.push(".mjs")),[...n,...r,...t]},"getSupportedExtensions"),mi=v(e=>{let n=[];if(!e)return n;let{outDir:r,declarationDir:t}=e;return r&&n.push(r),t&&n.push(t),n},"getDefaultExcludeSpec"),kt=v(e=>e.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&"),"escapeForRegexp"),hi=["node_modules","bower_components","jspm_packages"],Cn=`(?!(${hi.join("|")})(/|$))`,di=/(?:^|\/)[^.*?]+$/,$t="**/*",Xe="[^/]",An="[^./]",xt=process.platform==="win32",no=v(({config:e,path:n},r=fi())=>{if("extends"in e)throw new Error("tsconfig#extends must be resolved. Use getTsconfig or parseTsconfig to resolve it.");if(!x.isAbsolute(n))throw new Error("The tsconfig path must be absolute");xt&&(n=B(n));let t=x.dirname(n),{files:i,include:s,exclude:o,compilerOptions:u}=e,p=i?.map(a=>ze(t,a)),f=yi(u),b=r?"":"i",h=(o||mi(u)).map(a=>{let c=ze(t,a),d=kt(c).replaceAll("\\*\\*/","(.+/)?").replaceAll("\\*",`${Xe}*`).replaceAll("\\?",Xe);return new RegExp(`^${d}($|/)`,b)}),k=i||s?s:[$t],y=k?k.map(a=>{let c=ze(t,a);di.test(c)&&(c=ze(c,$t));let d=kt(c).replaceAll("/\\*\\*",`(/${Cn}${An}${Xe}*)*?`).replaceAll(/(\/)?\\\*/g,(w,R)=>{let m=`(${An}|(\\.(?!min\\.js$))?)*`;return R?`/${Cn}${An}${m}`:m}).replaceAll(/(\/)?\\\?/g,(w,R)=>{let m=Xe;return R?`/${Cn}${m}`:m});return new RegExp(`^${d}$`,b)}):void 0;return a=>{if(!x.isAbsolute(a))throw new Error("filePath must be absolute");if(xt&&(a=B(a)),p!=null&&p.includes(a)||!(!f.some(c=>a.endsWith(c))||h.some(c=>c.test(a)))&&y&&y.some(c=>c.test(a)))return e}},"createFilesMatcher");import Qe from"process";var he=lt(Ot(),1);import D from"process";import{ConfirmPrompt as ki,GroupMultiSelectPrompt as oo,MultiSelectPrompt as $i,PasswordPrompt as uo,SelectKeyPrompt as lo,SelectPrompt as xi,TextPrompt as _i,block as wi,isCancel as ao}from"@clack/core";import Ei from"is-unicode-supported";import l from"chalk";import{isCancel as V}from"@clack/core";var Rn=Ei(),j=(e,n)=>Rn?e:n,Ci=j("\u25C6","*"),Dt=j("\u25A0","x"),Rt=j("\u25B2","x"),He=j("\u25C7","o"),Ai=j("\u250C","T"),_=j("\u2502","|"),Z=j("\u2514","\u2014"),Ln=j("\u25CF",">"),Nn=j("\u25CB"," "),Ti=j("\u25FB","[\u2022]"),Pt=j("\u25FC","[+]"),Si=j("\u25FB","[ ]"),fo=j("\u25AA","\u2022"),jt=j("\u2500","-"),Ii=j("\u256E","+"),Oi=j("\u251C","+"),Pi=j("\u256F","+"),ji=j("\u25CF","\u2022"),Di=j("\u25C6","*"),Ri=j("\u25B2","!"),Li=j("\u25A0","x");function Ye(e){switch(e){case"initial":case"active":return l.cyan(Ci);case"cancel":return l.red(Dt);case"error":return l.yellow(Rt);case"submit":return l.green(He)}}function Fn(e){let{cursor:n,options:r,style:t}=e,i=e.maxItems===void 0?Number.POSITIVE_INFINITY:Math.max(e.maxItems,5),s=0;n>=s+i-3?s=Math.max(Math.min(n-i+3,r.length-i),0):n<s+2&&(s=Math.max(n-2,0));let o=i<r.length&&s>0,u=i<r.length&&s+i<r.length;return r.slice(s,s+i).map((p,f,b)=>{let h=f===0&&o,k=f===b.length-1&&u;return h||k?l.dim("..."):t(p,f+s===n)})}function Pe(e){return new _i({validate:e.validate,placeholder:e.placeholder,defaultValue:e.defaultValue,initialValue:e.initialValue,render(){let n=`${l.gray(_)}
${Ye(this.state)}  ${e.message}
`,r=e.placeholder?l.inverse(e.placeholder[0])+l.dim(e.placeholder.slice(1)):l.inverse(l.hidden("_")),t=this.value?this.valueWithCursor:r;switch(this.state){case"error":return`${n.trim()}
${l.yellow(_)}  ${t}
${l.yellow(Z)}  ${l.yellow(this.error)}
`;case"submit":return`${n}${l.gray(_)}  ${l.dim(this.value||e.placeholder)}`;case"cancel":return`${n}${l.gray(_)}  ${l.strikethrough(l.dim(this.value??""))}${this.value?.trim()?`
${l.gray(_)}`:""}`;default:return`${n}${l.cyan(_)}  ${t}
${l.cyan(Z)}
`}}}).prompt()}function de(e){let n=e.active??"Yes",r=e.inactive??"No";return new ki({active:n,inactive:r,initialValue:e.initialValue??!0,render(){let t=`${l.gray(_)}
${Ye(this.state)}  ${e.message}
`,i=this.value?n:r;switch(this.state){case"submit":return`${t}${l.gray(_)}  ${l.dim(i)}`;case"cancel":return`${t}${l.gray(_)}  ${l.strikethrough(l.dim(i))}
${l.gray(_)}`;default:return`${t}${l.cyan(_)}  ${this.value?`${l.green(Ln)} ${n}`:`${l.dim(Nn)} ${l.dim(n)}`} ${l.dim("/")} ${this.value?`${l.dim(Nn)} ${l.dim(r)}`:`${l.green(Ln)} ${r}`}
${l.cyan(Z)}
`}}}).prompt()}function je(e){let n=(r,t)=>{let i=r.label??String(r.value);switch(t){case"selected":return`${l.dim(i)}`;case"active":return`${l.green(Ln)} ${i} ${r.hint?l.dim(`(${r.hint})`):""}`;case"cancelled":return`${l.strikethrough(l.dim(i))}`;default:return`${l.dim(Nn)} ${l.dim(i)}`}};return new xi({options:e.options,initialValue:e.initialValue,render(){let r=`${l.gray(_)}
${Ye(this.state)}  ${e.message}
`;switch(this.state){case"submit":return`${r}${l.gray(_)}  ${n(this.options[this.cursor],"selected")}`;case"cancel":return`${r}${l.gray(_)}  ${n(this.options[this.cursor],"cancelled")}
${l.gray(_)}`;default:return`${r}${l.cyan(_)}  ${Fn({cursor:this.cursor,options:this.options,maxItems:e.maxItems,style:(t,i)=>n(t,i?"active":"inactive")}).join(`
${l.cyan(_)}  `)}
${l.cyan(Z)}
`}}}).prompt()}function Ze(e){let n=(r,t)=>{let i=r.label??String(r.value);return t==="active"?`${l.cyan(Ti)} ${i} ${r.hint?l.dim(`(${r.hint})`):""}`:t==="selected"?`${l.green(Pt)} ${l.dim(i)}`:t==="cancelled"?`${l.strikethrough(l.dim(i))}`:t==="active-selected"?`${l.green(Pt)} ${i} ${r.hint?l.dim(`(${r.hint})`):""}`:t==="submitted"?`${l.dim(i)}`:`${l.dim(Si)} ${l.dim(i)}`};return new $i({options:e.options,initialValues:e.initialValues,required:e.required??!0,cursorAt:e.cursorAt,validate(r){if(this.required&&r.length===0)return`Please select at least one option.
${l.reset(l.dim(`Press ${l.gray(l.bgWhite(l.inverse(" space ")))} to select, ${l.gray(l.bgWhite(l.inverse(" enter ")))} to submit`))}`},render(){let r=`${l.gray(_)}
${Ye(this.state)}  ${e.message}
`,t=(i,s)=>{let o=this.value.includes(i.value);return s&&o?n(i,"active-selected"):o?n(i,"selected"):n(i,s?"active":"inactive")};switch(this.state){case"submit":return`${r}${l.gray(_)}  ${this.options.filter(({value:i})=>this.value.includes(i)).map(i=>n(i,"submitted")).join(l.dim(", "))||l.dim("none")}`;case"cancel":{let i=this.options.filter(({value:s})=>this.value.includes(s)).map(s=>n(s,"cancelled")).join(l.dim(", "));return`${r}${l.gray(_)}  ${i.trim()?`${i}
${l.gray(_)}`:""}`}case"error":{let i=this.error.split(`
`).map((s,o)=>o===0?`${l.yellow(Z)}  ${l.yellow(s)}`:`   ${s}`).join(`
`);return`${r+l.yellow(_)}  ${Fn({options:this.options,cursor:this.cursor,maxItems:e.maxItems,style:t}).join(`
${l.yellow(_)}  `)}
${i}
`}default:return`${r}${l.cyan(_)}  ${Fn({options:this.options,cursor:this.cursor,maxItems:e.maxItems,style:t}).join(`
${l.cyan(_)}  `)}
${l.cyan(Z)}
`}}}).prompt()}var Dn=e=>e.replace(Fi(),"");function Lt(e="",n=""){let r=`
${e}
`.split(`
`),t=Dn(n).length,i=Math.max(r.reduce((o,u)=>(u=Dn(u),u.length>o?u.length:o),0),t)+2,s=r.map(o=>`${l.gray(_)}  ${l.dim(o)}${" ".repeat(i-Dn(o).length)}${l.gray(_)}`).join(`
`);D.stdout.write(`${l.gray(_)}
${l.green(He)}  ${l.reset(n)} ${l.gray(jt.repeat(Math.max(i-t-1,1))+Ii)}
${s}
${l.gray(Oi+jt.repeat(i+2)+Pi)}
`)}function O(e=""){D.stdout.write(`${l.gray(Z)}  ${l.red(e)}

`)}function Nt(e=""){D.stdout.write(`${l.gray(Ai)}  ${e}
`)}function ve(e=""){D.stdout.write(`${l.gray(_)}
${l.gray(Z)}  ${e}

`)}var T={message:(e="",{symbol:n=l.gray(_)}={})=>{let r=[`${l.gray(_)}`];if(e){let[t,...i]=e.split(`
`);r.push(`${n}  ${t}`,...i.map(s=>`${l.gray(_)}  ${s}`))}D.stdout.write(`${r.join(`
`)}
`)},info:e=>{T.message(e,{symbol:l.blue(ji)})},success:e=>{T.message(e,{symbol:l.green(Di)})},step:e=>{T.message(e,{symbol:l.green(He)})},warn:e=>{T.message(e,{symbol:l.yellow(Ri)})},warning:e=>{T.warn(e)},error:e=>{T.message(e,{symbol:l.red(Li)})}};function Ni(){let e=Rn?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],n=Rn?80:120,r,t,i=!1,s="";function o(a){let c=a>1?"Something went wrong":"Canceled";i&&k(c,a)}let u=()=>o(2),p=()=>o(1);function f(){D.on("uncaughtExceptionMonitor",u),D.on("unhandledRejection",u),D.on("SIGINT",p),D.on("SIGTERM",p)}function b(){D.removeListener("uncaughtExceptionMonitor",u),D.removeListener("unhandledRejection",u),D.removeListener("SIGINT",p),D.removeListener("SIGTERM",p)}function h(a=""){i=!0,r=wi(),s=a.replace(/\.+$/,""),D.stdout.write(`${l.gray(_)}
`);let c=0,d=0;f(),t=setInterval(()=>{let w=l.magenta(e[c]),R=".".repeat(Math.floor(d)).slice(0,3);D.stdout.write(he.cursor.move(-999,0)),D.stdout.write(he.erase.down(1)),D.stdout.write(`${w}  ${s}${R}`),c=c+1<e.length?c+1:0,d=d<e.length?d+.125:0},n)}function k(a="",c=0){s=a??s,i=!1,clearInterval(t);let d=c===0?l.green(He):c===1?l.red(Dt):l.red(Rt);D.stdout.write(he.cursor.move(-999,0)),D.stdout.write(he.erase.down(1)),D.stdout.write(`${d}  ${s}
`),b(),r()}return{start:h,stop:k,message:(a="")=>{s=a??s}}}function Fi(){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(e,"g")}async function ge(e){for(let n of e){if(n.enabled===!1)continue;let r=Ni();r.start(n.title);let t=await n.task(r.message);r.stop(t||n.title)}}function ke(e){T.message(),typeof e=="string"&&(O(e),Qe.exit(1)),(e instanceof en||e instanceof Q)&&(O(`[${e.name}]: ${e.message}`),Qe.exit(1)),e instanceof Error&&(O(e.stack),Qe.exit(1)),O("Something went wrong. Please try again."),Qe.exit(1)}function P(e){return new en(e)}var en=class extends Error{name="CLI Error"},Q=class extends Error{name="Config Error"};function De(e,n){let r=St(n);return r===null?void 0:r(e)[0]}import Wi from"fs";import zi from"path";import{execa as Xi}from"execa";import Gt from"fs";import Mi from"fs/promises";import $e from"path";import Gi from"process";var nn=["npm","yarn","yarn@berry","pnpm","pnpm@6","bun"],Vn={"bun.lockb":"bun","pnpm-lock.yaml":"pnpm","yarn.lock":"yarn","package-lock.json":"npm","npm-shrinkwrap.json":"npm"};function Ft(e){return n=>n.length>1?`${e} run ${n[0]} -- ${n.slice(1).join(" ")}`:`${e} run ${n[0]}`}var Vt={agent:"yarn {0}",run:"yarn run {0}",install:"yarn install {0}",frozen:"yarn install --frozen-lockfile",global:"yarn global add {0}",add:"yarn add {0}",upgrade:"yarn upgrade {0}","upgrade-interactive":"yarn upgrade-interactive {0}",execute:"npx {0}",uninstall:"yarn remove {0}",global_uninstall:"yarn global remove {0}"},Mt={agent:"pnpm {0}",run:"pnpm run {0}",install:"pnpm i {0}",frozen:"pnpm i --frozen-lockfile",global:"pnpm add -g {0}",add:"pnpm add {0}",upgrade:"pnpm update {0}","upgrade-interactive":"pnpm update -i {0}",execute:"pnpm dlx {0}",uninstall:"pnpm remove {0}",global_uninstall:"pnpm remove --global {0}"},Vi={agent:"bun {0}",run:"bun run {0}",install:"bun install {0}",frozen:"bun install --frozen-lockfile",global:"bun add -g {0}",add:"bun add {0}",upgrade:"bun update {0}","upgrade-interactive":"bun update {0}",execute:"bun x {0}",uninstall:"bun remove {0}",global_uninstall:"bun remove -g {0}"},tn={npm:{agent:"npm {0}",run:Ft("npm"),install:"npm i {0}",frozen:"npm ci",global:"npm i -g {0}",add:"npm i {0}",upgrade:"npm update {0}","upgrade-interactive":null,execute:"npx {0}",uninstall:"npm uninstall {0}",global_uninstall:"npm uninstall -g {0}"},yarn:Vt,"yarn@berry":{...Vt,frozen:"yarn install --immutable",upgrade:"yarn up {0}","upgrade-interactive":"yarn up -i {0}",execute:"yarn dlx {0}",global:"npm i -g {0}",global_uninstall:"npm uninstall -g {0}"},pnpm:Mt,"pnpm@6":{...Mt,run:Ft("pnpm")},bun:Vi};async function rn({cwd:e,onUnknown:n}={}){let r,t,i=await Ut(Object.keys(Vn),{cwd:e}),s;if(i?s=$e.resolve(i,"../package.json"):s=await Ut("package.json",{cwd:e}),s&&Gt.existsSync(s))try{let o=JSON.parse(Gt.readFileSync(s,"utf8"));if(typeof o.packageManager=="string"){let[u,p]=o.packageManager.replace(/^\^/,"").split("@");t=p,u==="yarn"&&Number.parseInt(p)>1?(r="yarn@berry",t="berry"):u==="pnpm"&&Number.parseInt(p)<7?r="pnpm@6":nn.includes(u)?r=u:n?.(o.packageManager)}}catch{}return!r&&i&&(r=Vn[$e.basename(i)]),{agent:r,version:t}}async function Ut(e,{cwd:n}){let r=$e.resolve(n??Gi.cwd()),{root:t}=$e.parse(r),i=[e].flat();for(;r&&r!==t;){for(let s of i){let o=$e.join(r,s);try{if((await Mi.stat(o)).isFile())return o}catch{}}r=$e.dirname(r)}}import Bt from"path";import Ui from"fs";import{fileURLToPath as Bi}from"url";function sn(){let e=qi("../package.json");return Wt(e)}function qi(e){let n=Bi(new URL(".",import.meta.url));return Bt.resolve(n,e)}function qt(e){let n=Bt.resolve(e,"package.json");return Wt(n)}function Wt(e){let n=Ui.readFileSync(e,{encoding:"utf8"});return JSON.parse(n)}async function on(e){if(Ji(e)){if(Wi.existsSync(zi.join(e,".svelte-kit")))return;let{agent:r}=await rn({cwd:e}),[t]=tn[r??"npm"].agent.split(" ");await Xi(t==="npm"?"npx":t,["svelte-kit","sync"],{cwd:e})}}function Ji(e){let n=qt(e);return{...n.devDependencies,...n.dependencies}["@sveltejs/kit"]!==void 0}var Xt="default",Mn="$lib/components",Gn="$lib/utils",Un="src/app.pcss",Bn="tailwind.config.cjs",Jt="slate";var se=(...e)=>Re.bold.cyan(...e),Le=S({$schema:F(g()),style:g(),tailwind:S({config:g(),css:g(),baseColor:g()}),aliases:S({components:gn(g(),qe(e=>e.replace(/[\u{0080}-\u{FFFF}]/gu,""))),utils:gn(g(),qe(e=>e.replace(/[\u{0080}-\u{FFFF}]/gu,"")))}),typescript:F(z(),!0)}),Ki=S({...Le.entries,...S({resolvedPaths:S({tailwindConfig:g(),tailwindCss:g(),utils:g(),components:g()})}).entries});async function xe(e){let n=await Yi(e);return n?await qn(e,n):null}async function qn(e,n){await on(e);let r=n.typescript?"tsconfig.json":"jsconfig.json",t=Hi(e,r);if(t===null)throw P(`Missing ${se("paths")} field in your ${se(r)} for path aliases. See: ${Re.underline("https://www.shadcn-svelte.com/docs/installation/manual#configure-path-aliases")}`);let i=De(n.aliases.utils,t),s=De(n.aliases.components,t),o=(u,p)=>new Q(`Invalid import alias found: (${se(`"${u}": "${p}"`)}) in ${se("components.json")}.
   - Import aliases ${Re.underline("must use")} existing path aliases defined in your ${se(r)} (e.g. "${u}": "$lib/${u}").
   - See: ${Re.underline("https://www.shadcn-svelte.com/docs/installation/manual#configure-path-aliases")}.`);if(i===void 0)throw o("utils",n.aliases.utils);if(s===void 0)throw o("components",n.aliases.components);return M(Ki,{...n,resolvedPaths:{tailwindConfig:un.resolve(e,n.tailwind.config),tailwindCss:un.resolve(e,n.tailwind.css),utils:i,components:s}})}function Hi(e,n){let r=Oe(un.resolve(e,"package.json"),n);if(r===null)throw P(`Failed to find ${se(n)}. See: ${Re.underline("https://www.shadcn-svelte.com/docs/installation#opt-out-of-typescript")}`);return r}async function Yi(e){let n=un.resolve(e,"components.json");if(!zt.existsSync(n))return null;try{let r=zt.readFileSync(n,{encoding:"utf8"}),t=JSON.parse(r);return M(Le,t)}catch{throw new Q(`Invalid configuration found in ${se(n)}.`)}}import Qi from"process";function _e(){let{env:e}=Qi;return e.HTTP_PROXY||e.http_proxy||e.HTTPS_PROXY||e.https_proxy||e.npm_config_proxy||e.npm_config_https_proxy}import ts from"path";import rs from"process";import{fetch as is}from"node-fetch-native";import{createProxy as ss}from"node-fetch-native/proxy";var Kt=S({name:g(),dependencies:W(g()),registryDependencies:W(g()),files:W(g()),type:vn(["components:ui","components:component","components:example"])}),Ht=W(Kt),es=S({...Kt.entries,...S({files:W(S({name:g(),content:g()}))}).entries}),Yt=W(es),zo=W(S({name:g(),label:g()})),Zt=S({inlineColors:S({light:ce(g(),g()),dark:ce(g(),g())}),cssVars:S({light:ce(g(),g()),dark:ce(g(),g())}),inlineColorsTemplate:g(),cssVarsTemplate:g()});var Qt=rs.env.COMPONENTS_REGISTRY_URL??"https://shadcn-svelte.com";async function ln(){try{let[e]=await Wn(["index.json"]);return M(Ht,e)}catch{throw P("Failed to fetch components from registry.")}}function er(){return[{name:"slate",label:"Slate"},{name:"gray",label:"Gray"},{name:"zinc",label:"Zinc"},{name:"neutral",label:"Neutral"},{name:"stone",label:"Stone"}]}function nr(){return[{name:"default",label:"Default"},{name:"new-york",label:"New York"}]}async function tr(e){try{let[n]=await Wn([`colors/${e}.json`]);return M(Zt,n)}catch{throw P("Failed to fetch base color from registry.")}}async function Ne(e,n,r=!0){let t=[];for(let i of n){let s=e.find(o=>o.name===i);if(s&&(t.push(s),r&&s.registryDependencies)){let o=await Ne(e,s.registryDependencies);t.push(...o)}}return t.filter((i,s,o)=>o.findIndex(u=>u.name===i.name)===s)}async function an(e,n){try{let r=e.typescript?e.style:`${e.style}-js`,t=n.map(s=>`styles/${r}/${s.name}.json`),i=await Wn(t);return M(Yt,i)}catch{throw P("Failed to fetch tree from registry.")}}function Fe(e,n,r){if(r&&n.type!=="components:ui")return r;let[t,i]=n.type.split(":");return!t||!i||!(t in e.resolvedPaths)?null:ts.join(e.resolvedPaths[t],i)}async function Wn(e){let n=_e(),r=n?ss({url:n}):{};try{return await Promise.all(e.map(async i=>await(await is(`${Qt}/registry/${i}`,{...r})).json()))}catch{throw P(`Failed to fetch registry from ${Qt}.`)}}function cn(e,n){let r=e.replace(/\$lib\/registry\/[^/]+/g,n.aliases.components);return r=r.replace(/\$lib\/utils/g,n.aliases.utils),r}import os from"process";import rr from"chalk";function we(){let e=sn(),n=rr.bgHex("#FF5500").black(" shadcn-svelte "),r=rr.gray(` v${e.version} `);Nt(n+r),(typeof Bun<"u"||typeof Deno<"u")&&T.warn("You are currently using an unsupported runtime. Only Node.js v18 or higher is officially supported. Continue at your own risk.")}function ir(){O("Operation cancelled."),os.exit(0)}function ee(e,n=9){return e.reduce((r,t,i)=>i%n===0?`${r},
${t}`:`${r}, ${t}`)}var Qn=lt(yr(),1);import Zn from"fs";import oe from"path";var ws=["app.css","app.pcss","app.postcss","main.css","main.pcss","main.postcss","globals.css","globals.pcss","globals.postcss"],Es=["tailwind.config.js","tailwind.config.cjs","tailwind.config.mjs","tailwind.config.ts"],Cs=["node_modules",".git",".svelte-kit"];function mr(e,n){let r,t,i=As(e);for(let s of i){let o=oe.parse(s).base;t===void 0&&ws.includes(o)&&(t=n?.relative?oe.relative(e,s):s),r===void 0&&Es.includes(o)&&(r=n?.relative?oe.relative(e,s):s)}return{tailwindPath:r,cssPath:t}}function As(e){return hr(e,[])}function hr(e,n){let r=[],t=Zn.readdirSync(e,{withFileTypes:!0}),i=oe.join(e,".gitignore");if(Zn.existsSync(i)){let s=Zn.readFileSync(i,{encoding:"utf8"}),o=(0,Qn.default)().add(s);n.push({dirPath:e,ig:o})}for(let s of t){let o=oe.join(e,s.name);Cs.some(p=>e.includes(p))||n.some(p=>{let f=oe.relative(p.dirPath,o);return Qn.default.isPathValid(f)===!1?!1:p.ig.ignores(f)})||(s.isFile()&&r.push(o),s.isDirectory()&&r.push(...hr(o,n)))}return r}function dr(e){let n=oe.resolve(e,"package.json"),r=Oe(n,"tsconfig.json");if(r!==null)return{type:"tsconfig.json",config:r};let t=Oe(n,"jsconfig.json");if(t!==null)return{type:"jsconfig.json",config:t}}async function Ee(e,n){let{agent:r}=await rn({cwd:e});if(r===void 0&&n){let t=nn.filter(s=>!s.includes("@")).map(s=>({value:s,label:s}));t.unshift({label:"None",value:void 0});let i=await je({message:"Which package manager do you want to use?",options:t});V(i)&&ir(),r=i}return r?tn[r]:void 0}var K=(...e)=>q.bold.cyan(...e),Is=S({components:F(W(g())),yes:z(),all:z(),overwrite:z(),cwd:g(),path:F(g()),deps:z(),proxy:F(g())}),vr=new Ts().command("add").description("add components to your project").argument("[components...]","name of components").option("-c, --cwd <cwd>","the working directory",ne.cwd()).option("--no-deps","skips adding & installing package dependencies").option("-a, --all","install all components to your project",!1).option("-y, --yes","skip confirmation prompt",!1).option("-o, --overwrite","overwrite existing files",!1).option("--proxy <proxy>","fetch components from registry using a proxy",_e()).option("-p, --path <path>","the path to add the component to").action(async(e,n)=>{try{we();let r=M(Is,{components:e,...n}),t=ue.resolve(r.cwd);if(!fn(t))throw P(`The path ${q.cyan(t)} does not exist. Please try again.`);let i=await xe(t);if(!i)throw new Q(`Configuration file is missing. Please run ${q.green("init")} to create a ${K("components.json")} file.`);await Os(t,i,r),ve(`${q.green("Success!")} Component installation completed.`)}catch(r){ke(r)}});async function Os(e,n,r){r.proxy!==void 0&&(ne.env.HTTP_PROXY=r.proxy,T.info(`You are using the provided proxy: ${q.green(r.proxy)}`));let t=await ln(),i=new Set(r.all?t.map(({name:a})=>a):r.components),s=new Map;for(let a of t)s.set(a.name,a.registryDependencies);if(i===void 0||i.size===0){let a=await Ze({message:`Which ${K("components")} would you like to install?`,maxItems:10,options:t.map(({name:c,dependencies:d,registryDependencies:w})=>{let R=[...r.deps?d:[],...w];return{label:c,value:c,hint:R.length?`also installs: ${R.join(", ")}`:void 0}})});V(a)&&(O("Operation cancelled."),ne.exit(0)),i=new Set(a)}else{let a=ee(Array.from(i));T.step(`Components to install:
${q.gray(a)}`)}for(let a of i)s.get(a)?.forEach(d=>i.add(d));let o=await Ne(t,Array.from(i),!1),u=await an(n,o);u.length===0&&(O("Selected components not found."),ne.exit(0));let p=[],f=r.path?ue.resolve(e,r.path):void 0;for(let a of u){if(i.has(a.name)===!1)continue;let c=Fe(n,a,f);if(c===null)continue;a.files.some(w=>fn(ue.resolve(c,a.name,w.name)))&&p.push(a.name)}if(r.overwrite===!1&&p.length>0){let a=ee(p);T.warn(`The following components ${q.bold.yellow("already exists")}:
${q.gray(a)}`);let c=await de({message:`Would you like to ${q.bold.red("overwrite")} all existing components?`,active:"Yes, overwrite everything",inactive:"No, let me decide individually",initialValue:!1});V(c)&&(O("Operation cancelled."),ne.exit(0)),r.overwrite=c}if(r.yes===!1){let a=await de({message:`Ready to install ${K("components")}${r.deps?` and ${K("dependencies")}?`:"?"}`,initialValue:!0});(V(a)||a===!1)&&(O("Operation cancelled."),ne.exit(0))}let b=new Set,h=new Set,k=[];for(let a of u){let c=Fe(n,a,f);if(c===null)continue;fn(c)||await et.mkdir(c,{recursive:!0});let d=ue.relative(ne.cwd(),ue.resolve(c,a.name));if(!r.overwrite&&p.includes(a.name)&&i.has(a.name)){T.warn(`Component ${K(a.name)} already exists at ${q.gray(d)}`);let w=await de({message:`Would you like to ${q.bold.red("overwrite")} your existing ${K(a.name)} component?`});if(V(w)&&(O("Operation cancelled."),ne.exit(0)),w===!1)continue}r.deps?a.dependencies.forEach(w=>h.add(w)):a.dependencies.forEach(w=>b.add(w)),k.push({title:`Installing ${K(a.name)}`,async task(){for(let w of a.files){let R=ue.resolve(c,a.name),m=ue.resolve(c,a.name,w.name),E=cn(w.content,n);fn(R)||await et.mkdir(R,{recursive:!0}),await et.writeFile(m,E)}return`${K(a.name)} installed at ${q.gray(d)}`}})}let y=await Ee(e,r.deps);if(y){let[a,c]=y.add.split(" ");k.push({title:`${K(a)}: Installing dependencies`,enabled:h.size>0,async task(){return await Ss(a,[c,"-D",...h],{cwd:e}),`Dependencies installed with ${K(a)}`}})}if(await ge(k),!r.deps){let a=ee([...b],7);T.warn(`Components have been installed ${q.bold.red("without")} the following ${K("dependencies")}:
${q.gray(a)}`)}}import{existsSync as Ae,promises as Ce}from"fs";import te from"path";import le from"process";import G from"chalk";import{Command as Rs,Option as kr}from"commander";import{execa as Ls}from"execa";var yn=`import { type ClassValue, clsx } from "clsx";
import { twMerge } from "tailwind-merge";
import { cubicOut } from "svelte/easing";
import type { TransitionConfig } from "svelte/transition";

export function cn(...inputs: ClassValue[]) {
	return twMerge(clsx(inputs));
}

type FlyAndScaleParams = {
	y?: number;
	x?: number;
	start?: number;
	duration?: number;
};

export const flyAndScale = (
	node: Element,
	params: FlyAndScaleParams = { y: -8, x: 0, start: 0.95, duration: 150 }
): TransitionConfig => {
	const style = getComputedStyle(node);
	const transform = style.transform === "none" ? "" : style.transform;

	const scaleConversion = (
		valueA: number,
		scaleA: [number, number],
		scaleB: [number, number]
	) => {
		const [minA, maxA] = scaleA;
		const [minB, maxB] = scaleB;

		const percentage = (valueA - minA) / (maxA - minA);
		const valueB = percentage * (maxB - minB) + minB;

		return valueB;
	};

	const styleToString = (
		style: Record<string, number | string | undefined>
	): string => {
		return Object.keys(style).reduce((str, key) => {
			if (style[key] === undefined) return str;
			return str + \`\${key}:\${style[key]};\`;
		}, "");
	};

	return {
		duration: params.duration ?? 200,
		delay: 0,
		css: (t) => {
			const y = scaleConversion(t, [0, 1], [params.y ?? 5, 0]);
			const x = scaleConversion(t, [0, 1], [params.x ?? 0, 0]);
			const scale = scaleConversion(t, [0, 1], [params.start ?? 0.95, 1]);

			return styleToString({
				transform: \`\${transform} translate3d(\${x}px, \${y}px, 0) scale(\${scale})\`,
				opacity: t
			});
		},
		easing: cubicOut
	};
};`,mn=`import { clsx } from "clsx";
import { twMerge } from "tailwind-merge";
import { cubicOut } from "svelte/easing";

export function cn(...inputs) {
	return twMerge(clsx(inputs));
}

export const flyAndScale = (
	node,
	params = { y: -8, x: 0, start: 0.95, duration: 150 }
) => {
	const style = getComputedStyle(node);
	const transform = style.transform === "none" ? "" : style.transform;

	const scaleConversion = (valueA, scaleA, scaleB) => {
		const [minA, maxA] = scaleA;
		const [minB, maxB] = scaleB;

		const percentage = (valueA - minA) / (maxA - minA);
		const valueB = percentage * (maxB - minB) + minB;

		return valueB;
	};

	const styleToString = (style) => {
		return Object.keys(style).reduce((str, key) => {
			if (style[key] === undefined) return str;
			return str + \`\${key}:\${style[key]};\`;
		}, "");
	};

	return {
		duration: params.duration ?? 200,
		delay: 0,
		css: (t) => {
			const y = scaleConversion(t, [0, 1], [params.y ?? 5, 0]);
			const x = scaleConversion(t, [0, 1], [params.x ?? 0, 0]);
			const scale = scaleConversion(t, [0, 1], [params.start ?? 0.95, 1]);

			return styleToString({
				transform: \`\${transform} translate3d(\${x}px, \${y}px, 0) scale(\${scale})\`,
				opacity: t
			});
		},
		easing: cubicOut
	};
};`,Ps=`import { fontFamily } from "tailwindcss/defaultTheme";

/** @type {import('tailwindcss').Config} */
const config = {`,js=`import { fontFamily } from "tailwindcss/defaultTheme";
import type { Config } from "tailwindcss";

const config: Config = {`,gr=`
	darkMode: ["class"],
	content: ["./src/**/*.{html,js,svelte,ts}"],
	safelist: ["dark"],
	theme: {
		container: {
			center: true,
			padding: "2rem",
			screens: {
				"2xl": "1400px"
			}
		},
		extend: {
			colors: {
				border: "hsl(var(--border) / <alpha-value>)",
				input: "hsl(var(--input) / <alpha-value>)",
				ring: "hsl(var(--ring) / <alpha-value>)",
				background: "hsl(var(--background) / <alpha-value>)",
				foreground: "hsl(var(--foreground) / <alpha-value>)",
				primary: {
					DEFAULT: "hsl(var(--primary) / <alpha-value>)",
					foreground: "hsl(var(--primary-foreground) / <alpha-value>)"
				},
				secondary: {
					DEFAULT: "hsl(var(--secondary) / <alpha-value>)",
					foreground: "hsl(var(--secondary-foreground) / <alpha-value>)"
				},
				destructive: {
					DEFAULT: "hsl(var(--destructive) / <alpha-value>)",
					foreground: "hsl(var(--destructive-foreground) / <alpha-value>)"
				},
				muted: {
					DEFAULT: "hsl(var(--muted) / <alpha-value>)",
					foreground: "hsl(var(--muted-foreground) / <alpha-value>)"
				},
				accent: {
					DEFAULT: "hsl(var(--accent) / <alpha-value>)",
					foreground: "hsl(var(--accent-foreground) / <alpha-value>)"
				},
				popover: {
					DEFAULT: "hsl(var(--popover) / <alpha-value>)",
					foreground: "hsl(var(--popover-foreground) / <alpha-value>)"
				},
				card: {
					DEFAULT: "hsl(var(--card) / <alpha-value>)",
					foreground: "hsl(var(--card-foreground) / <alpha-value>)"
				}
			},
			borderRadius: {
				lg: "var(--radius)",
				md: "calc(var(--radius) - 2px)",
				sm: "calc(var(--radius) - 4px)"
			},
			fontFamily: {
				sans: [...fontFamily.sans]
			}
		}
	},
};

export default config;
`,br={TS:js+gr,JS:Ps+gr};var $r=["tailwind-variants","clsx","tailwind-merge"],X=(...e)=>G.bold.cyan(...e),nt=er(),tt=nr(),Ns=S({cwd:g(),style:F(g()),baseColor:F(g()),css:F(g()),tailwindConfig:F(g()),componentsAlias:F(g()),utilsAlias:F(g()),deps:z()}),xr=new Rs().command("init").description("initialize your project and install dependencies").option("-c, --cwd <cwd>","the working directory",le.cwd()).option("--no-deps","disable adding & installing dependencies").addOption(new kr("--style <name>","the style for the components").choices(tt.map(e=>e.name))).addOption(new kr("--base-color <name>","the base color for the components").choices(nt.map(e=>e.name))).option("--css <path>","path to the global CSS file").option("--tailwind-config <path>","path to the tailwind config file").option("--components-alias <path>","import alias for components").option("--utils-alias <path>","import alias for utils").action(async e=>{we();let n=M(Ns,e),r=te.resolve(n.cwd);try{if(!Ae(r))throw P(`The path ${G.cyan(r)} does not exist. Please try again.`);let t=await xe(r),i=await Vs(r,t,n);await Ms(r,i,n),ve(`${G.green("Success!")} Project initialization completed.`)}catch(t){ke(t)}});function Fs(e,n,r){if(n.css&&!Ae(te.resolve(e,n.css)))throw P(`The provided global CSS file path ${G.cyan(n.css)} does not exist. Please enter a valid path.`);if(n.tailwindConfig&&!Ae(te.resolve(e,n.tailwindConfig)))throw P(`The provided tailwind config file path ${G.cyan(n.tailwindConfig)} does not exist. Please enter a valid path.`);if(n.componentsAlias){let t=hn(n.componentsAlias,r);if(t)throw P(t)}if(n.utilsAlias){let t=hn(n.utilsAlias,r);if(t)throw P(t)}}async function Vs(e,n,r){await on(e);let t=mr(e,{relative:!0}),i=dr(e);if(i===void 0)throw P(`Failed to find a ${X("tsconfig.json")} or ${X("jsconfig.json")} file. See: ${G.underline("https://www.shadcn-svelte.com/docs/installation#opt-out-of-typescript")}`);Fs(e,r,i);let s=tt.find(y=>y.name===r.style)?.name;if(s===void 0){let y=await je({message:`Which ${X("style")} would you like to use?`,initialValue:n?.style??Xt,options:tt.map(a=>({label:a.label,value:a.name}))});V(y)&&(O("Operation cancelled."),le.exit(0)),s=y}let o=nt.find(y=>y.name===r.baseColor)?.name;if(o===void 0){let y=await je({message:`Which ${X("base color")} would you like to use?`,initialValue:n?.tailwind.baseColor??Jt,options:nt.map(a=>({label:a.label,value:a.name}))});V(y)&&(O("Operation cancelled."),le.exit(0)),o=y}let u=r.css;if(u===void 0){let y=await Pe({message:`Where is your ${X("global CSS")} file? ${G.gray("(this file will be overwritten)")}`,initialValue:n?.tailwind.css??t.cssPath??Un,placeholder:t.cssPath??Un,validate:a=>{if(!(a&&Ae(te.resolve(e,a))))return`"${G.bold(a)}" does not exist. Please enter a valid path.`}});V(y)&&(O("Operation cancelled."),le.exit(0)),u=y}let p=r.tailwindConfig;if(p===void 0){let y=await Pe({message:`Where is your ${X("Tailwind config")} located? ${G.gray("(this file will be overwritten)")}`,initialValue:n?.tailwind.config??t.tailwindPath??Bn,placeholder:t.tailwindPath??Bn,validate:a=>{if(!(a&&Ae(te.resolve(e,a))))return`"${G.bold(a)}" does not exist. Please enter a valid path.`}});V(y)&&(O("Operation cancelled."),le.exit(0)),p=y}let f=r.componentsAlias;if(f===void 0){let y=await Pe({message:`Configure the import alias for ${X("components")}:`,initialValue:n?.aliases.components??Mn,placeholder:Mn,validate:a=>hn(a,i)});V(y)&&(O("Operation cancelled."),le.exit(0)),f=y}let b=r.utilsAlias;if(b===void 0){let y=await Pe({message:`Configure the import alias for ${X("utils")}:`,initialValue:n?.aliases.utils??`${f?.split("/").slice(0,-1).join("/")}/utils`??Gn,placeholder:Gn,validate:a=>hn(a,i)});V(y)&&(O("Operation cancelled."),le.exit(0)),b=y}let h=M(Le,{$schema:"https://shadcn-svelte.com/schema.json",style:s,typescript:i.type==="tsconfig.json",tailwind:{config:p,css:u,baseColor:o},aliases:{utils:b,components:f}});if(h.tailwind.config.endsWith(".cjs")){T.info(`Your tailwind config has been renamed to ${X("tailwind.config.js")}.`),await Ce.unlink(h.tailwind.config).catch(()=>null);let y=h.tailwind.config.replace(".cjs",".js");h.tailwind.config=y}return await qn(e,h)}function hn(e,n){if(De(e,n.config)===void 0)return`"${G.bold(e)}" does not use an existing path alias defined in your ${G.bold(n.type)}. See: ${G.underline("https://www.shadcn-svelte.com/docs/installation/manual#configure-path-aliases")}`}async function Ms(e,n,r){let t=[];t.push({title:"Creating config file",async task(){let s=te.resolve(e,"components.json"),o=M(Le,n);return await Ce.writeFile(s,JSON.stringify(o,null,"	"),"utf8"),`Config file ${X("components.json")} created`}}),t.push({title:"Initializing project",async task(){for(let[h,k]of Object.entries(n.resolvedPaths)){let y=te.extname(k)?te.dirname(k):k;h==="utils"&&k.endsWith("/utils")&&(y=y.replace(/\/utils$/,"")),!Ae(y)&&h!=="utils"&&await Ce.mkdir(y,{recursive:!0})}let{TS:s,JS:o}=br,u=n.resolvedPaths.tailwindConfig.endsWith(".ts")?s:o;await Ce.writeFile(n.resolvedPaths.tailwindConfig,u,"utf8");let p=await tr(n.tailwind.baseColor);p&&await Ce.writeFile(n.resolvedPaths.tailwindCss,p.cssVarsTemplate,"utf8");let f=n.resolvedPaths.utils+(n.typescript?".ts":".js"),b=n.typescript?yn:mn;return await Ce.writeFile(f,b,"utf8"),"Project initialized"}});let i=await Ee(e,r.deps);if(i){let[s,o]=i.add.split(" ");t.push({title:`${X(s)}: Installing dependencies`,enabled:r.deps,async task(){return await Ls(s,[o,"-D",...$r],{cwd:e}),`Dependencies installed with ${X(s)}`}})}if(await ge(t),!r.deps){let s=ee([...$r],7);T.warn(`shadcn-svelte has been initialized ${G.bold.red("without")} the following ${X("dependencies")}:
${G.gray(s)}`)}}import{existsSync as Ve,promises as Te}from"fs";import re from"path";import Me from"process";import U from"chalk";import{Command as Gs}from"commander";import{execa as Us}from"execa";var Y=e=>U.bold.cyan(e),Bs=S({all:z(),components:F(W(g())),cwd:g(),proxy:F(g()),yes:z()}),_r=new Gs().command("update").description("update components in your project").argument("[components...]","name of components").option("-c, --cwd <cwd>","the working directory",Me.cwd()).option("-a, --all","update all existing components",!1).option("-y, --yes","skip confirmation prompt",!1).option("--proxy <proxy>","fetch components from registry using a proxy",_e()).action(async(e,n)=>{we();try{let r=M(Bs,{components:e,...n}),t=re.resolve(r.cwd);if(!Ve(t))throw P(`The path ${U.cyan(t)} does not exist. Please try again.`);let i=await xe(t);if(!i)throw P(`Configuration file is missing. Please run ${U.green("init")} to create a ${Y("components.json")} file.`);await qs(t,i,r),Lt(`This action ${U.underline("does not")} update your ${Y("dependencies")} to their ${U.bold("latest")} versions.

Consider updating them as well.`),ve(`${U.green("Success!")} Component update completed.`)}catch(r){ke(r)}});async function qs(e,n,r){r.proxy!==void 0&&(Me.env.HTTP_PROXY=r.proxy,T.info(`You are using the provided proxy: ${U.green(r.proxy)}`));let t=r.components,i=await ln(),s=re.resolve(n.resolvedPaths.components,"ui");if(!Ve(s))throw P(`Component directory ${U.cyan(s)} does not exist.`);let o=[],u=await Te.readdir(s,{withFileTypes:!0});for(let c of u)if(c.isDirectory()){let d=i.find(w=>w.name===c.name);d&&o.push(d)}o.push({name:"utils",type:"components:ui",files:[],dependencies:[],registryDependencies:[]});let p=r.all?o:[];if(p.length===0&&t!==void 0&&(p=o.filter(c=>t.includes(c.name))),p.length===0){let c=await Ze({message:"Which components would you like to update?",maxItems:10,options:o.map(d=>({label:d.name,value:d,hint:d.registryDependencies.length?`also updates: ${d.registryDependencies.join(", ")}`:void 0}))});V(c)&&(O("Operation cancelled."),Me.exit(0)),p=c}else{let c=ee(p.map(({name:d})=>d));T.step(`Components to update:
${U.gray(c)}`)}if(r.yes===!1){let c=await de({message:`Ready to update ${Y("components")}? ${U.gray("(Make sure you have committed your changes before proceeding!)")}`,initialValue:!0});(V(c)||c===!1)&&(O("Operation cancelled."),Me.exit(0))}if(p.find(c=>c.name==="utils")){let c=n.typescript?".ts":".js",d=n.resolvedPaths.utils+c;if(!Ve(d))throw P(`Failed to find ${Y("utils")} at ${U.cyan(d)}`);await Te.writeFile(d,n.typescript?yn:mn)}let f=await Ne(i,p.map(c=>c.name)),b=(await an(n,f)).sort((c,d)=>c.name.localeCompare(d.name)),h={},k=new Set,y=[];for(let c of b){let d=Fe(n,c);d&&(c.dependencies.forEach(w=>k.add(w)),y.push({title:`Updating ${Y(c.name)}`,async task(){Ve(d)||await Te.mkdir(d,{recursive:!0});let w=re.resolve(d,c.name);Ve(w)||await Te.mkdir(w,{recursive:!0});for(let A of c.files){let L=re.resolve(d,c.name,A.name),Ge=cn(A.content,n);await Te.writeFile(L,Ge)}let R=await Te.readdir(w),m=c.files.map(A=>A.name),E=R.filter(A=>!m.includes(A)).map(A=>re.resolve(d,c.name,A));E.length>0&&(h[c.name]=E);let $=re.relative(Me.cwd(),re.resolve(d,c.name));return`${Y(c.name)} updated at ${U.gray($)}`}}))}let a=await Ee(e,!0);if(a){let[c,d]=a.add.split(" ");y.push({title:`${Y(c)}: Installing dependencies`,enabled:k.size>0,async task(){return await Us(c,[d,"-D",...k],{cwd:e}),`Dependencies installed with ${Y(c)}`}})}await ge(y);for(let[c,d]of Object.entries(h))T.warn(`The ${Y(c)} component does not use the following files:
${d.map(w=>U.white(`- ${U.gray(re.relative(e,w))}`)).join(`
`)}`);Object.keys(h).length>0&&T.message(U.bold("You may want to delete them."))}Se.on("SIGINT",()=>Se.exit(0));Se.on("SIGTERM",()=>Se.exit(0));var Er=Se.versions.node,zs=Number.parseInt(Er.split(".")[0],10),wr=18;zs<wr&&(console.error(`Node.js v${Er} is out of date and unsupported!`),console.error(`Please use Node.js v${wr} or higher.`),Se.exit(1));async function Xs(){console.clear();let e=sn(),n=new Ws().name("shadcn-svelte").description("Add shadcn-svelte components to your project").version(e.version||"0.0.0","-v, --version","display the version number");n.addCommand(xr).addCommand(vr).addCommand(_r),n.parse()}Xs();
